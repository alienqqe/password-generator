(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626,11],{1244:function(e,t,n){Promise.resolve().then(n.bind(n,6720))},6720:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(7437),r=n(2265);n(1854);var o=n(4033),i=n(2545),s=n(3198),l=n(3956),u=n(6485);function c(e){let{mode:t}=e,n=(0,l.C)(e=>e.authReducer.value.token),c=(0,s.I0)(),[d,h]=(0,r.useState)(""),[g,p]=(0,r.useState)(!1),v=(0,o.useRouter)(),[f,m]=(0,r.useState)(""),[y,S]=(0,r.useState)(null),[x,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{c((0,u.qb)()),b(!0)},[c]),(0,r.useEffect)(()=>{n&&v.push("/")},[n]);let k=async e=>{e.preventDefault();try{p(!0);let e=await fetch("login"===t?"https://password-gen-backend-production.up.railway.app/api/auth/login":"https://password-gen-backend-production.up.railway.app/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:f})}),n=await e.json();if(!e.ok)throw p(!1),Error(n.error||"Something went wrong");"login"===t&&n.token?(c((0,u.x4)(n.token)),v.push("/")):"register"===t&&(alert("Registration successful! Please login."),v.push("/login"))}catch(e){S(e.message)}};return(0,a.jsx)(a.Fragment,{children:g||!x||n?(0,a.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,a.jsx)(i.iT,{visible:!0,height:"80",width:"80",color:"#4fa94d",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})}):(0,a.jsx)("div",{style:{height:"100vh"},className:"d-flex align-items-center justify-content-center flex-column gap-4 mb-3",children:(0,a.jsxs)("form",{onSubmit:k,className:"auth-form d-flex align-items-center justify-content-center flex-column gap-4 mb-3",children:[(0,a.jsx)("h1",{children:"login"===t?"Login":"Register"}),(0,a.jsx)("input",{className:"input",type:"email",placeholder:"Email",value:d,onChange:e=>h(e.target.value),required:!0}),(0,a.jsx)("input",{type:"password",placeholder:"Password",value:f,onChange:e=>m(e.target.value),required:!0}),y&&(0,a.jsx)("p",{style:{color:"red"},children:y}),(0,a.jsx)("button",{className:"btn btn-lg btn-primary",type:"submit",children:"login"===t?"Login":"Register"}),(0,a.jsx)("p",{children:"login"===t?(0,a.jsxs)(a.Fragment,{children:["Dont have an account yet? ",(0,a.jsx)("a",{href:"/register",children:"Register"})]}):(0,a.jsxs)(a.Fragment,{children:["Already have an account? ",(0,a.jsx)("a",{href:"/login",children:"Login"})]})})]})})})}},6485:function(e,t,n){"use strict";n.d(t,{kS:function(){return i},qb:function(){return s},x4:function(){return o}});var a=n(64);let r=(0,a.oM)({name:"auth",initialState:{value:{token:null}},reducers:{login:(e,t)=>{e.value.token=t.payload,localStorage.setItem("token",t.payload)},logout:e=>{e.value.token=null,localStorage.removeItem("token")},loadTokenFromStorage:e=>{let t=localStorage.getItem("token");e.value.token=t}}}),{login:o,logout:i,loadTokenFromStorage:s}=r.actions;t.ZP=r.reducer},7328:function(e,t,n){"use strict";n.d(t,{AS:function(){return i},H4:function(){return u},Zv:function(){return s},ag:function(){return l}});var a=n(64);let r=(0,a.oM)({name:"password",initialState:{value:{length:0,isSwitched:void 0,isUppercase:void 0,isNumbers:void 0,isSymbols:void 0,result:"",isSavingToHistory:!1,strengthCheckerInputValue:""}},reducers:{changeStrengthCheckerValue:(e,t)=>{e.value.strengthCheckerInputValue=t.payload},setSavingDone:e=>{e.value.isSavingToHistory=!1},setResult:(e,t)=>{e.value.result=t.payload},setSavingToHistory:(e,t)=>{e.value.isSavingToHistory=t.payload},createPassword:(e,t)=>{e.value.isSavingToHistory=!0,e.value.length=t.payload,e.value.result=(()=>{let n="",a="abcdefghijklmnopqrstuvwxyz".concat(e.value.isUppercase?"ABCDEFGHIJKLMNOPQRSTUVWXYZ":"").concat(e.value.isSymbols?"!@#$%^&*()<>,.?/[]{}-=_+|/":"").concat(e.value.isNumbers?"0123456789":"","\n        ");for(;n.length<t.payload;)n+=a[Math.floor(Math.random()*a.replaceAll(/\s/g,"").length)];return n})()}}}),{createPassword:o,setSavingDone:i,changeStrengthCheckerValue:s,setResult:l,setSavingToHistory:u}=r.actions;t.ZP=r.reducer},3956:function(e,t,n){"use strict";n.d(t,{C:function(){return l},h:function(){return s}});var a=n(64),r=n(7328),o=n(6485),i=n(3198);let s=(0,a.xC)({reducer:{passwordReducer:r.ZP,authReducer:o.ZP}}),l=i.v9},1854:function(){}},function(e){e.O(0,[571,713,662,971,596,744],function(){return e(e.s=1244)}),_N_E=e.O()}]);